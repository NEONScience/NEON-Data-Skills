
<h3 id="Python-setup"> Setting Up Python </h3>

<a href="http://python.org">Python</a> is a popular language for
scientific computing and data science, as well as being a great for 
general-purpose programming. Installing all of the scientific packages 
individually can be a bit difficult, so we recommend using an all-in-one 
installer, like Anaconda.

Regardless of how you choose to install it, **please make sure your environment 
is set up with Python version 3.4 (at the time of writing, `gdal` did not work 
with the newest Python version 3.6). Python 2.x is quite different from Python 3.x
so you do need to install 3.x and set up with the 3.4 environment. 

We will teach using Python in the 
<a href="http://jupyter.org">Jupyter Notebook environment</a>, 
a programming environment that runs in a web browser. For this to work you will 
need a reasonably up-to-date browser. The current versions of the Chrome, Safari 
and Firefox browsers are all 
<a href='http://ipython.org/ipython-doc/2/install/install.html#browser-compatibility'>supported</a>
(some older browsers, including Internet Explorer version 9 and below, are not).
You can choose to not use notebooks in the course, however, we do 
recommend you download and install the library so that you can explore this tool.


<h4 id="Python-windows"> Windows </h4>

Download and install 
<a href="https://www.continuum.io/downloads">Anaconda</a>.
Download the default Python 3 installer (3.6 -- and yes, you can later set up the 
3.4 environment from this). Use all of the defaults for 
installation *except* make sure to check **Make Anaconda the default Python**.


<h4 id="Python-mac">Mac OS X </h4>

Download and install 
<a href="https://www.continuum.io/downloads">Anaconda</a> from Continuum.
Download the Python 3.x installer, choosing either the graphical installer or the 
command-line installer (3.6 -- and yes, you can later set up the 
3.4 environment from this). For the graphical installer, use all of the defaults for 
installation. For the command-line installer open Terminal, navigate to the
directory with the download then enter: 

`bash Anaconda3-4.3.1-MacOSX-x86_64.sh` 

<h4 id="Python-linux">Linux </h4>
We recommend the all-in-one scientific Python installer
<a href="http://continuum.io/downloads.html">Anaconda</a>.
Download the installer that matches your operating system and save it in your 
home folder. Download the default Python 3 installer.

Open a terminal window. Type 

`bash Anaconda-`

and then press tab. The name of the file you just downloaded should appear.

Press enter. You will follow the text-only prompts.  When there is a colon at 
the bottom of the screen press the down arrow to move down through the text. 
Type `yes` and press enter to approve the license. Press enter to 
approve the default location for the files. Type `yes` and press 
enter to prepend Anaconda to your `PATH` (this makes the Anaconda 
distribution the default Python).

<h3 id="package-install">Install Python packages</h3>

We need to install several packages to the Python environment to be able to work
with the remote sensing data

* gdal 
* h5py
* matlabpy

If you are new to working with command line you may wish to complete the next
setup instructions which provides and intro to command line (bash) prior to 
completing these package installation instructions. 

<h4 id="package-windows">Windows</h4>

Create a new Python 3.4 environment by opening Windows Command Prompt and typing 

`conda create –n py34 python=3.4 anaconda`

When prompted, activate the py34 environment in Command Prompt by typing 

`activate py34`

You should see (py34) at the beginning of the command line. You can also test 
that you are using the correct version by typing 

`python --version`.

It should be Python version 3.4. 

Install Python package(s): 

* gdal: `conda install gdal`
* h5py: `conda install h5py`
* matplotlib: `conda install matplotlib`

When installing `gdal` you will be prompted that the anaconda package will be 
updated and that several packages will be downgraded due to dependency conflicts. 
When asked whether to 

`>Proceed ([y]/n)?` 

type `y` to continue. 

Note: You may need to only install gdal as the others may be included in the 
default. 


<h4 id="package-mac">Mac OS X</h4>

Create a new Python 3.4 environment by opening Terminal and typing 

`conda create –n py34 python=3.4 anaconda`

When prompted, activate the py34 environment in Command Prompt by typing 

`source activate py34`

You should see (py34) at the beginning of the command line. You can also test 
that you are using the correct version by typing 

`python --version`.

It should be Python version 3.4. 

Install Python package(s): 

* gdal: `conda install gdal`
* h5py: `conda install h5py`
* matplotlib: `conda install matplotlib`

When installing `gdal` you will be prompted that the anaconda package will be 
updated and that several packages will be downgraded due to dependency conflicts. 
When asked whether to 

`>Proceed ([y]/n)?` 

type `y` to continue. 


<h4 id="package-linux">Linux</h4>
Open default terminal application
(on Ubuntu that will be <em>gnome-terminal</em>).

Launch Python. 

Install Python package(s): 

* gdal: `conda install gdal`
* h5py: `conda install h5py`
* matplotlib: `conda install matplotlib`

<h3 id="jupyter-notebook">Set up Jupyter Notebook Environment</h3>

First, we need to create a new Jupyter kernel for the Python 3.4 conda 
environment (py34) that Jupyter Notebooks will use. 

In your Command Prompt/Terminal, type: 

`python -m ipykernel install --user --name py34 --display-name "Python 3.4 NEON-RSDI"`

In your terminal application, navigate to the directory (`cd`) that where you
want the Jupyter Notebooks to be saved (or where they already exist). 

Open Jupyter Notebook with 

`jupyter notebook`

Once the notebook is open, check which version of Python you are in. 

 <figure>
	<a href="{{ site.baseurl }}/images/Python/setup/check-python-env.png">
	<img src="{{ site.baseurl }}/images/Python/setup/check-python-env.png"></a>
	<figcaption> Check which Python version is running. 
	Source: National Ecological Observatory Network (NEON)  
	</figcaption>
</figure>

To ensure that the correct kernel will operate, navigate to **Kernel** in the menu, 
select **Restart/ClearOutlook**. 

You should now be able to work in the notebook. 

The `gdal` package that occasionally has problems with some versions of Python. 
Therefore test out loading it using 

`import gdal`.  

<h3 id="additional-resources"> Additional Resources</h3>

* <a href="https://sites.google.com/site/pythonbootcamp/preparation" target="_blank"> Setting up the Python Environment section from the Python Bootcamp</a>
* <a href="https://conda.io/docs/using/envs.html" target="_blank"> Conda Help: setting up an environment</a>
* <a href="https://ipython.readthedocs.io/en/latest/install/kernel_install.html" target="_blank"> iPython documentation: Kernals </a>
